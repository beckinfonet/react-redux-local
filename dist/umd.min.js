!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("prop-types"),require("redux"),require("redux-saga"),require("redux-devtools-extension")):"function"==typeof define&&define.amd?define(["react","prop-types","redux","redux-saga","redux-devtools-extension"],t):e.LocalReducer=t(e.react,e.propTypes,e.redux,e.createSagaMiddleware,e.reduxDevtoolsExtension)}(this,function(e,t,s,i,r){"use strict";i=i&&i.hasOwnProperty("default")?i.default:i;class o extends e.Component{constructor(e){super(e);const{reducer:t,saga:o,middleware:a,actions:d,devToolsOptions:n}=e;this.sagaMiddleware=o&&i();const u=[...a];this.sagaMiddleware&&u.push(this.sagaMiddleware);const c=s.applyMiddleware(...u),p=r.composeWithDevTools(n);this.state=t(void 0,{}),this.store=s.createStore(t,n?p(c):c),this.store.subscribe(()=>this.setState(this.store.getState())),this.dispatch=this.dispatch.bind(this),this.boundActions=s.bindActionCreators(d,this.dispatch)}componentWillMount(){const{saga:e}=this.props;e&&(this.saga=this.sagaMiddleware.run(e))}componentWillUnMount(){const{saga:e}=this.props;e&&this.saga.cancel()}dispatch(e={}){this.store.dispatch(e)}render(){return this.props.render(this.state,this.boundActions,this.dispatch)}}return o.propTypes={reducer:t.func.isRequired,actions:t.objectOf(t.func.isRequired).isRequired,saga:t.func,middleware:t.arrayOf(t.func.isRequired),render:t.func.isRequired,devToolsOptions:t.object},o.defaultProps={middleware:[]},o});
