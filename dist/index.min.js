!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("redux"),require("react"),require("prop-types"),require("redux-saga")):"function"==typeof define&&define.amd?define(["exports","redux","react","prop-types","redux-saga"],t):t(e["react-redux-local"]={},e.redux,e.React,e.propTypes,e.createSagaMiddleware)}(this,function(e,t,r,o,n){"use strict";var i="default"in t?t.default:t,a="default"in r?r.default:r;n=n&&n.hasOwnProperty("default")?n.default:n;var c="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var u,s,l=(function(e,t){var r=i.compose;t.__esModule=!0,t.composeWithDevTools=function(){if(0!==arguments.length)return"object"==typeof arguments[0]?r:r.apply(null,arguments)},t.devToolsEnhancer=function(){return function(e){return e}}}(u={exports:{}},u.exports),u.exports);(s=l)&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default");var d=l.composeWithDevTools,f=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},p=function(){function e(e,t){for(var r=0;t.length>r;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),b=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},h=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t};let y=function(e){function o(e){f(this,o);var r=h(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));r.dispatch=((e={})=>r.store.dispatch(e));const{reducer:i,saga:a,middleware:c,actions:u,devToolsOptions:s}=e;r.sagaMiddleware=a&&n&&n();const l=[...c];r.sagaMiddleware&&l.push(r.sagaMiddleware);const p=t.applyMiddleware(...l),b=d(s);return r.state=i(void 0,{}),r.store=t.createStore(i,s?b(p):p),r.store.subscribe(()=>r.setState(r.store.getState())),r.sagaMiddleware&&(r.saga=r.sagaMiddleware.run(a)),r.boundActions=t.bindActionCreators(u,r.dispatch),r}return b(o,r.Component),p(o,[{key:"componentWillUnMount",value:function(){this.sagaMiddleware&&this.saga.cancel()}},{key:"render",value:function(){return this.props.children(this.state,this.boundActions,this.dispatch)}}]),o}();y.propTypes={reducer:o.func.isRequired,actions:o.objectOf(o.func.isRequired).isRequired,saga:o.func,middleware:o.arrayOf(o.func.isRequired),children:o.func.isRequired,devToolsOptions:o.object},y.defaultProps={middleware:[]};var v="[object AsyncFunction]",j="[object Function]",w="[object GeneratorFunction]",m="[object Null]",g="[object Proxy]",O="[object Undefined]",_="object"==typeof self&&self&&self.Object===Object&&self,x="object"==typeof c&&c&&c.Object===Object&&c||_||Function("return this")(),P=Object.prototype,M=P.hasOwnProperty,E=P.toString,T=x.Symbol,q=T?T.toStringTag:void 0;function S(e){return null==e?void 0===e?O:m:q&&q in Object(e)?function(e){var t=M.call(e,q),r=e[q];try{e[q]=void 0}catch(e){}var o=E.call(e);t?e[q]=r:delete e[q];return o}(e):function(e){return E.call(e)}(e)}var C=function(e){if(!function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}(e))return!1;var t=S(e);return t==j||t==w||t==v||t==g};let A=function(e){function t(){return f(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,r.PureComponent),p(t,[{key:"render",value:function(){const{children:e,state:t,actions:r,dispatch:o}=this.props;return e(t,r,o)}}]),t}();e.default=y,e.createContext=(e=>{if(!e.reducer)throw Error("A reducer must be provided.");if(!e.actions)throw Error("A set of actions must be provided.");const{Provider:t,Consumer:o}=r.createContext(),n=()=>void 0;return{Provider:({children:r})=>a.createElement(y,e,(e,o,n)=>a.createElement(t,{value:{state:e,actions:o,dispatch:n}},r)),Consumer:({children:e,mapState:t=n,mapActions:r=(()=>void 0)})=>a.createElement(o,null,({state:o,actions:n,dispatch:i})=>a.createElement(A,{state:C(t)?t(o):void 0,actions:r(n,i),dispatch:i},e))}}),Object.defineProperty(e,"__esModule",{value:!0})});
