"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var react=require("react"),propTypes=require("prop-types"),redux=require("redux"),createSagaMiddleware=_interopDefault(require("redux-saga")),reduxDevtoolsExtension=require("redux-devtools-extension");class LocalReducer extends react.Component{constructor(e){super(e);const{reducer:s,saga:t,middleware:r,actions:i,devToolsOptions:o}=e;this.sagaMiddleware=t&&createSagaMiddleware();const a=[...r];this.sagaMiddleware&&a.push(this.sagaMiddleware);const d=redux.applyMiddleware(...a),p=reduxDevtoolsExtension.composeWithDevTools(o);this.state=s(void 0,{}),this.store=redux.createStore(s,o?p(d):d),this.store.subscribe(()=>this.setState(this.store.getState())),this.dispatch=this.dispatch.bind(this),this.boundActions=redux.bindActionCreators(i,this.dispatch)}componentWillMount(){const{saga:e}=this.props;e&&(this.saga=this.sagaMiddleware.run(e))}componentWillUnMount(){const{saga:e}=this.props;e&&this.saga.cancel()}dispatch(e={}){this.store.dispatch(e)}render(){return this.props.render(this.state,this.boundActions,this.dispatch)}}LocalReducer.propTypes={reducer:propTypes.func.isRequired,actions:propTypes.objectOf(propTypes.func.isRequired).isRequired,saga:propTypes.func,middleware:propTypes.arrayOf(propTypes.func.isRequired),render:propTypes.func.isRequired,devToolsOptions:propTypes.object},LocalReducer.defaultProps={middleware:[]},module.exports=LocalReducer;
